{"ast":null,"code":"var _jsxFileName = \"/Users/sejlaali/General_Assembly/sei/12-week/01-monday/project4/kosovo-1/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from 'axios';\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport Homepage from \"./components/Homepage\";\nimport Culture from \"./components/Culture\";\nimport Activities from \"./components/Activities\";\nimport SignUpOrLogIn from \"./components/SignUpOrLogIn\";\nimport { saveAuthTokens, setAxiosDefaults, userIsLoggedIn, clearAuthTokens } from \"./util/SessionHeader\";\nimport { MediaQuery } from 'react-responsive';\nimport MobileNav from './components/MobileNav';\nimport ReviewForm from './components/ReviewForm';\nimport Reviews from './components/Reviews';\nimport kosovoImg from \"./components/assets/kosovo-flag.png\";\nimport \"../src/components/Homepage.css\";\nconst LanguageContext = React.createContext();\nconst LanguageConsumer = LanguageContext.Consumer;\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isSignedIn: false,\n      language: \"french\"\n    };\n\n    this.signUp = async (name, email, password, password_confirmation) => {\n      const payload = {\n        name: name,\n        email: email,\n        password: password,\n        password_confirmation: password_confirmation\n      };\n\n      try {\n        const res = await axios.post(\"http://localhost:3000/auth\", payload);\n        saveAuthTokens(res.headers);\n        this.setState({\n          isSignedIn: true\n        });\n      } catch {\n        alert('You must fill in all of the fields.');\n      }\n    };\n\n    this.signIn = async (email, password) => {\n      const payload = {\n        email,\n        password\n      };\n\n      try {\n        const res = await axios.post(\"http://localhost:3000/auth/sign_in\", payload);\n        saveAuthTokens(res.headers);\n        this.setState({\n          isSignedIn: true\n        });\n      } catch {\n        alert(\"You have entered an invalid username or password.\");\n      }\n    };\n\n    this.signOut = async e => {\n      e.preventDefault();\n      clearAuthTokens();\n      this.setState({\n        isSignedIn: false\n      });\n    };\n\n    this.updateLanguage = e => this.setState({\n      language: e.target.value\n    });\n  }\n\n  async componentDidMount() {\n    const isSignedIn = userIsLoggedIn();\n\n    if (isSignedIn) {\n      setAxiosDefaults();\n    }\n\n    this.setState({\n      isSignedIn\n    });\n  }\n\n  render() {\n    const navStyles = {\n      display: \"flex\",\n      listStyleType: \"none\",\n      justifyContent: \"space-around\"\n    };\n    const loginOrOut = this.state.isSignedIn ? React.createElement(\"button\", {\n      onClick: this.signOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Log out\") : \"Log in icon\";\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(LanguageContext.Provider, {\n      value: {\n        language: this.state.language,\n        updateLanguage: this.updateLanguage\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.props.children), \"); } }\", React.createElement(LanguageConsumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, ({\n      updateLanguage\n    }) => React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"see this site in\", React.createElement(\"select\", {\n      onChange: updateLanguage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"french\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"french\"), React.createElement(\"option\", {\n      value: \"english\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"english\"), React.createElement(\"option\", {\n      value: \"italian\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"italian\")))), \"); }; const TranslatableText = props => (\", React.createElement(LanguageConsumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, ({\n      language\n    }) => props.dictionary[language]), \"); const App = () => (\", React.createElement(LanguageProvider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(TranslatableText, {\n      dictionary: {\n        french: \"Bonjour, Michel!\",\n        english: \"Hello, Michael!\",\n        italian: \"Ciao, Michele!\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })))), \");\", React.createElement(MediaQuery, {\n      query: \"(max-width: 799px)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(MobileNav, {\n      loginOrOut: loginOrOut,\n      right: true,\n      pageWrapId: \"page-wrap\",\n      outerContainerId: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"page-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(MediaQuery, {\n      query: \"(min-width: 800px)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      style: navStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Logo\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/culture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"People and Culture\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/activities\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Things to See and Do\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/auth/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, loginOrOut)))), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(Homepage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/culture\",\n      component: Culture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/activities\",\n      component: Activities,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/activity/:id/reviews\",\n      render: props => React.createElement(Reviews, Object.assign({\n        isSignedIn: this.state.isSignedIn\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/activity/:id/reviews\",\n      render: props => React.createElement(ReviewForm, Object.assign({\n        isSignedIn: this.state.isSignedIn\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/activity/:id/reviews/:review_id/edit\",\n      render: props => React.createElement(ReviewForm, Object.assign({}, props, {\n        isSignedIn: this.state.isSignedIn,\n        isUpdateForm: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/auth/login\",\n      render: props => React.createElement(SignUpOrLogIn, Object.assign({}, props, {\n        signIn: this.signIn,\n        signUp: this.signUp,\n        isSignedIn: this.state.isSignedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/sejlaali/General_Assembly/sei/12-week/01-monday/project4/kosovo-1/client/src/App.js"],"names":["React","Component","axios","Switch","Route","Link","Homepage","Culture","Activities","SignUpOrLogIn","saveAuthTokens","setAxiosDefaults","userIsLoggedIn","clearAuthTokens","MediaQuery","MobileNav","ReviewForm","Reviews","kosovoImg","LanguageContext","createContext","LanguageConsumer","Consumer","App","state","isSignedIn","language","signUp","name","email","password","password_confirmation","payload","res","post","headers","setState","alert","signIn","signOut","e","preventDefault","updateLanguage","target","value","componentDidMount","render","navStyles","display","listStyleType","justifyContent","loginOrOut","props","children","dictionary","french","english","italian"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from 'axios'\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport Homepage from \"./components/Homepage\";\nimport Culture from \"./components/Culture\";\nimport Activities from \"./components/Activities\";\nimport SignUpOrLogIn from \"./components/SignUpOrLogIn\";\nimport {saveAuthTokens, setAxiosDefaults, userIsLoggedIn, clearAuthTokens} from \"./util/SessionHeader\"\nimport {MediaQuery} from 'react-responsive'\nimport MobileNav from './components/MobileNav'\nimport ReviewForm from './components/ReviewForm'\nimport Reviews from './components/Reviews'\nimport kosovoImg from \"./components/assets/kosovo-flag.png\"\nimport \"../src/components/Homepage.css\"\n\nconst LanguageContext = React.createContext();\nconst LanguageConsumer = LanguageContext.Consumer;\n\nclass App extends Component {\n  state = {\n    isSignedIn: false,\n    language: \"french\"\n  };\n\nasync componentDidMount() {\n  const isSignedIn = userIsLoggedIn()\n\n  if (isSignedIn) {\n    setAxiosDefaults()\n  }\n\n  this.setState({\n    isSignedIn\n  })\n}\n\n  signUp = async (name, email, password, password_confirmation) => {\n    const payload = {\n      name: name,\n      email: email,\n      password: password,\n      password_confirmation: password_confirmation\n    };\n   try {const res = await axios.post(\"http://localhost:3000/auth\", payload);\n  saveAuthTokens(res.headers)\n  this.setState({\n    isSignedIn: true\n   });\n   }\n   catch {\n     alert('You must fill in all of the fields.')\n   }\n  };\n  \n\n  signIn = async (email, password) => {\n    const payload = {\n      email,\n      password\n    };\n    try {const res = await axios.post(\"http://localhost:3000/auth/sign_in\", payload);\n    saveAuthTokens(res.headers)\n    this.setState({\n      isSignedIn: true\n    });\n  } catch {\n    alert(\"You have entered an invalid username or password.\")\n  }\n  };\n\n  signOut = async (e) => {\n    e.preventDefault()\n\n    clearAuthTokens();\n    this.setState({\n      isSignedIn: false\n    })\n  }\n\n\n\n  updateLanguage = e => this.setState({ language: e.target.value });\n\n\n  render() {\n    const navStyles = {\n      display: \"flex\",\n      listStyleType: \"none\",\n      justifyContent: \"space-around\"\n    };\n\n    const loginOrOut = this.state.isSignedIn ? <button onClick={this.signOut}>Log out</button> : \"Log in icon\"\n  return (\n\n      <div>\n\n<LanguageContext.Provider\n        value={{\n          language: this.state.language,\n          updateLanguage: this.updateLanguage\n        }}\n      >\n        {this.props.children}\n      </LanguageContext.Provider>\n    );\n  }\n}\n\n    <LanguageConsumer>\n      {({ updateLanguage }) => (\n        <header>\n          see this site in\n          <select onChange={updateLanguage}>\n            <option value=\"french\">french</option>\n            <option value=\"english\">english</option>\n            <option value=\"italian\">italian</option>\n          </select>\n        </header>\n      )}\n    </LanguageConsumer>\n  );\n};\n\nconst TranslatableText = props => (\n  <LanguageConsumer>\n    {({ language }) => props.dictionary[language]}\n  </LanguageConsumer>\n);\n\nconst App = () => (\n  <LanguageProvider>\n    <div>\n      <Header />\n      <h1>\n        <TranslatableText\n          dictionary={{\n            french: \"Bonjour, Michel!\",\n            english: \"Hello, Michael!\",\n            italian: \"Ciao, Michele!\"\n          }}\n        />\n      </h1>\n    </div>\n  </LanguageProvider>\n);\n\n\n\n\n\n        <MediaQuery query='(max-width: 799px)'>\n      <MobileNav loginOrOut={loginOrOut} right={true} pageWrapId={\"page-wrap\"} outerContainerId={\"App\"} />\n      </MediaQuery>\n      <div id=\"page-wrap\">\n        <MediaQuery query='(min-width: 800px)'>\n        <nav style={navStyles}>\n          <li>\n            <Link to=\"/\">Logo</Link>\n          </li>\n          <li>\n            <Link to=\"/culture\">People and Culture</Link>\n          </li>\n          <li>\n            <Link to=\"/activities\">Things to See and Do</Link>\n          </li>\n          <li>\n            <Link to=\"/auth/login\">{loginOrOut}</Link>\n          </li>\n        </nav>\n        </MediaQuery>\n\n        <Switch>\n          <Route exact path=\"/\" render={() => <Homepage />} />\n          <Route exact path=\"/culture\" component={Culture} />\n          <Route exact path=\"/activities\" component={Activities} />\n          <Route exact path=\"/activity/:id/reviews\" render={(props) => <Reviews isSignedIn={this.state.isSignedIn} {...props}/>} />\n          <Route exact path=\"/activity/:id/reviews\" render={(props) => <ReviewForm isSignedIn={this.state.isSignedIn} {...props}/>} />\n          <Route exact path=\"/activity/:id/reviews/:review_id/edit\" render={(props)=> <ReviewForm {...props} isSignedIn={this.state.isSignedIn} isUpdateForm={true}/>}/>\n          <Route\n            exact\n            path=\"/auth/login\"\n            render={props => (\n              <SignUpOrLogIn\n                {...props}\n                signIn={this.signIn}\n                signUp={this.signUp}\n                isSignedIn={this.state.isSignedIn}\n              />\n            )}\n          />\n        </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}