{"ast":null,"code":"var _jsxFileName = \"/Users/sejlaali/General_Assembly/sei/12-week/01-monday/project4/kosovo-1/client/src/components/ReviewForm.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./ReviewForm.css\";\nimport { Link } from \"react-router-dom\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nclass ReviewForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      let name = e.target.name;\n      let value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleReviewSubmit = async evt => {\n      evt.preventDefault();\n\n      if (!this.props.isUpdateForm) {\n        await axios.post(\"http://localhost:3000/posts/\".concat(this.props.id, \"/reviews\"), this.state);\n        this.props.handleReviewClick();\n        this.props.getAllReviews();\n      } else {\n        await axios.put(\"http://localhost:3000/posts/\".concat(this.props.match.params.id, \"/reviews/\").concat(this.props.match.params.review_id), this.state);\n        this.props.history.push(\"/activity/\".concat(this.props.match.params.id, \"/reviews\"));\n      }\n\n      this.setState({\n        first_name: \"\",\n        last_name: \"\",\n        title: \"\",\n        review_text: \"\",\n        rating: null\n      });\n    };\n\n    this.handleError = () => {\n      console.log(\"error\");\n      alert(\"Please make sure you sign in to submit a review\");\n    };\n\n    this.state = {\n      first_name: \"\",\n      last_name: \"\",\n      title: \"\",\n      review_text: \"\",\n      rating: null\n    };\n  }\n\n  async componentDidMount() {\n    console.log(this.props.isUpdateForm);\n\n    if (!this.props.isUpdateForm) {\n      return;\n    }\n\n    if (this.props.match.params.review_id) {\n      const res = await axios.get(\"http://localhost:3000/posts/\".concat(this.props.match.params.id, \"/reviews/\").concat(this.props.match.params.review_id));\n      const _res$data = res.data,\n            first_name = _res$data.first_name,\n            last_name = _res$data.last_name,\n            title = _res$data.title,\n            review_text = _res$data.review_text,\n            rating = _res$data.rating;\n      this.setState({\n        first_name,\n        last_name,\n        title,\n        review_text,\n        rating\n      });\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          first_name = _this$state.first_name,\n          last_name = _this$state.last_name,\n          title = _this$state.title,\n          review_text = _this$state.review_text,\n          rating = _this$state.rating;\n    const submitConditional = this.props.isSignedIn ? this.handleReviewSubmit : this.handleError;\n    return React.createElement(\"div\", {\n      style: {\n        paddingTop: \"10px\",\n        height: \"70vh\",\n        backgroundColor: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Form, {\n      style: {\n        margin: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(Form.Control, {\n      name: \"first_name\",\n      onChange: this.handleChange,\n      value: first_name,\n      placeholder: \"First name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(Form.Control, {\n      name: \"last_name\",\n      value: last_name,\n      onChange: this.handleChange,\n      placeholder: \"Last name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Title\"), React.createElement(Form.Control, {\n      name: \"title\",\n      onChange: this.handleChange,\n      value: title,\n      placeholder: \"Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlTextarea1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Description\"), React.createElement(Form.Control, {\n      value: review_text,\n      name: \"review_text\",\n      onChange: this.handleChange,\n      as: \"textarea\",\n      rows: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      // value={rating}\n      name: \"rating\",\n      onChange: this.handleChange,\n      controlId: \"exampleForm.ControlSelect1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Rating\"), React.createElement(Form.Control, {\n      value: rating,\n      as: \"select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: rating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"4\"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"5\"))), React.createElement(Button, {\n      onClick: submitConditional,\n      variant: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Submit Review\"), React.createElement(Link, {\n      to: \"/activities\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        marginLeft: \"5px\"\n      },\n      variant: \"danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Cancel\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ReviewForm;","map":{"version":3,"sources":["/Users/sejlaali/General_Assembly/sei/12-week/01-monday/project4/kosovo-1/client/src/components/ReviewForm.js"],"names":["React","Component","axios","Link","Form","Button","ReviewForm","constructor","props","handleChange","e","name","target","value","setState","handleReviewSubmit","evt","preventDefault","isUpdateForm","post","id","state","handleReviewClick","getAllReviews","put","match","params","review_id","history","push","first_name","last_name","title","review_text","rating","handleError","console","log","alert","componentDidMount","res","get","data","render","submitConditional","isSignedIn","paddingTop","height","backgroundColor","margin","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./ReviewForm.css\";\nimport { Link } from \"react-router-dom\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nclass ReviewForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      first_name: \"\",\n      last_name: \"\",\n      title: \"\",\n      review_text: \"\",\n      rating: null\n    };\n  }\n\n  async componentDidMount() {\n    console.log(this.props.isUpdateForm);\n    if (!this.props.isUpdateForm) {\n      return;\n    }\n    if (this.props.match.params.review_id) {\n      const res = await axios.get(\n        `http://localhost:3000/posts/${this.props.match.params.id}/reviews/${\n          this.props.match.params.review_id\n        }`\n      );\n      const { first_name, last_name, title, review_text, rating } = res.data;\n      this.setState({\n        first_name,\n        last_name,\n        title,\n        review_text,\n        rating\n      });\n    }\n  }\n\n  handleChange = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleReviewSubmit = async evt => {\n    evt.preventDefault();\n    if (!this.props.isUpdateForm) {\n      await axios.post(\n        `http://localhost:3000/posts/${this.props.id}/reviews`,\n        this.state\n      );\n      this.props.handleReviewClick();\n      this.props.getAllReviews();\n    } else {\n      await axios.put(\n        `http://localhost:3000/posts/${this.props.match.params.id}/reviews/${\n          this.props.match.params.review_id\n        }`,\n        this.state\n      );\n      this.props.history.push(\n        `/activity/${this.props.match.params.id}/reviews`\n      );\n    }\n    this.setState({\n      first_name: \"\",\n      last_name: \"\",\n      title: \"\",\n      review_text: \"\",\n      rating: null\n    });\n  };\n\n  handleError = () => {\n    console.log(\"error\");\n    alert(\"Please make sure you sign in to submit a review\");\n  };\n\n  render() {\n    const { first_name, last_name, title, review_text, rating } = this.state;\n    const submitConditional = this.props.isSignedIn\n      ? this.handleReviewSubmit\n      : this.handleError;\n\n    return (\n      <div\n        style={{ paddingTop: \"10px\", height: \"70vh\", backgroundColor: \"white\" }}\n      >\n        <Form style={{ margin: \"10px\" }}>\n          <Form.Label>First Name</Form.Label>\n\n          <Form.Control\n            name=\"first_name\"\n            onChange={this.handleChange}\n            value={first_name}\n            placeholder=\"First name\"\n          />\n          <Form.Label>Last Name</Form.Label>\n          <Form.Control\n            name=\"last_name\"\n            value={last_name}\n            onChange={this.handleChange}\n            placeholder=\"Last name\"\n          />\n          <Form.Label>Title</Form.Label>\n          <Form.Control\n            name=\"title\"\n            onChange={this.handleChange}\n            value={title}\n            placeholder=\"Title\"\n          />\n\n          <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n            <Form.Label>Description</Form.Label>\n            <Form.Control\n              value={review_text}\n              name=\"review_text\"\n              onChange={this.handleChange}\n              as=\"textarea\"\n              rows=\"3\"\n            />\n          </Form.Group>\n          <Form.Group\n            // value={rating}\n            name=\"rating\"\n            onChange={this.handleChange}\n            controlId=\"exampleForm.ControlSelect1\"\n          >\n            <Form.Label>Rating</Form.Label>\n            <Form.Control value={rating} as=\"select\">\n              <option value={rating}>1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n            </Form.Control>\n          </Form.Group>\n          <Button onClick={submitConditional} variant=\"success\">\n            Submit Review\n          </Button>\n          <Link to=\"/activities\">\n            <Button style={{ marginLeft: \"5px\" }} variant=\"danger\">\n              Cancel\n            </Button>\n          </Link>\n        </Form>\n\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default ReviewForm;\n"]},"metadata":{},"sourceType":"module"}