{"ast":null,"code":"var _jsxFileName = \"/Users/sejlaali/General_Assembly/sei/12-week/01-monday/project4/kosovo-1/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from 'axios';\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport Homepage from \"./components/Homepage\";\nimport Culture from \"./components/Culture\";\nimport Activities from \"./components/Activities\";\nimport SignUpOrLogIn from \"./components/SignUpOrLogIn\";\nimport { saveAuthTokens, setAxiosDefaults, userIsLoggedIn, clearAuthTokens } from \"./util/SessionHeader\";\nimport { use } from 'react-responsive';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isSignedIn: false\n    };\n\n    this.signUp = async (name, email, password, password_confirmation) => {\n      const payload = {\n        name: name,\n        email: email,\n        password: password,\n        password_confirmation: password_confirmation\n      };\n      const res = await axios.post(\"http://localhost:3000/auth\", payload);\n      saveAuthTokens(res.headers);\n      this.setState({\n        isSignedIn: true\n      });\n    };\n\n    this.signIn = async (email, password) => {\n      const payload = {\n        email,\n        password\n      };\n      const res = await axios.post(\"http://localhost:3000/auth/sign_in\", payload);\n      saveAuthTokens(res.headers);\n      this.setState({\n        isSignedIn: true\n      });\n    };\n\n    this.signOut = async e => {\n      e.preventDefault();\n      clearAuthTokens();\n      this.setState({\n        isSignedIn: false\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const isSignedIn = userIsLoggedIn();\n\n    if (isSignedIn) {\n      setAxiosDefaults();\n    }\n\n    this.setState({\n      isSignedIn\n    });\n  }\n\n  render() {\n    const navStyles = {\n      display: \"flex\",\n      listStyleType: \"none\",\n      justifyContent: \"space-around\"\n    };\n    const loginOrOut = this.state.isSignedIn ? React.createElement(\"button\", {\n      onClick: this.signOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Log out\") : \"Log in icon\";\n\n    const Desktop = ({\n      children\n    }) => {\n      const isDesktop = useMediaQuery({\n        minWidth: 992\n      });\n      return isDesktop ? children : null;\n    };\n\n    const Tablet = ({\n      children\n    }) => {\n      const isTablet = useMediaQuery({\n        minWidth: 768,\n        maxWidth: 991\n      });\n      return isTablet ? children : null;\n    };\n\n    const Mobile = ({\n      children\n    }) => {\n      const isMobile = useMediaQuery({\n        maxWidth: 767\n      });\n      return isMobile ? children : null;\n    };\n\n    const Default = ({\n      children\n    }) => {\n      const isNotMobile = useMediaQuery({\n        minWidth: 768\n      });\n      return isNotMobile ? children : null;\n    };\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Desktop, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      style: navStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Logo\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/culture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"People and Culture\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/activities\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Things to See and Do\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/auth/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, loginOrOut)))), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(Homepage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/culture\",\n      component: Culture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/activities\",\n      component: Activities,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/auth/login\",\n      render: props => React.createElement(SignUpOrLogIn, Object.assign({}, props, {\n        signIn: this.signIn,\n        signUp: this.signUp,\n        isSignedIn: this.state.isSignedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/sejlaali/General_Assembly/sei/12-week/01-monday/project4/kosovo-1/client/src/App.js"],"names":["React","Component","axios","Switch","Route","Link","Homepage","Culture","Activities","SignUpOrLogIn","saveAuthTokens","setAxiosDefaults","userIsLoggedIn","clearAuthTokens","use","App","state","isSignedIn","signUp","name","email","password","password_confirmation","payload","res","post","headers","setState","signIn","signOut","e","preventDefault","componentDidMount","render","navStyles","display","listStyleType","justifyContent","loginOrOut","Desktop","children","isDesktop","useMediaQuery","minWidth","Tablet","isTablet","maxWidth","Mobile","isMobile","Default","isNotMobile","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from 'axios'\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport Homepage from \"./components/Homepage\";\nimport Culture from \"./components/Culture\";\nimport Activities from \"./components/Activities\";\nimport SignUpOrLogIn from \"./components/SignUpOrLogIn\";\nimport {saveAuthTokens, setAxiosDefaults, userIsLoggedIn, clearAuthTokens} from \"./util/SessionHeader\"\nimport {use} from 'react-responsive'\n\nclass App extends Component {\n  state = {\n    isSignedIn: false\n  };\n\nasync componentDidMount() {\n  const isSignedIn = userIsLoggedIn()\n\n  if (isSignedIn) {\n    setAxiosDefaults()\n  }\n\n  this.setState({\n    isSignedIn\n  })\n}\n\n  signUp = async (name, email, password, password_confirmation) => {\n    const payload = {\n      name: name,\n      email: email,\n      password: password,\n      password_confirmation: password_confirmation\n    };\n   const res = await axios.post(\"http://localhost:3000/auth\", payload);\n   saveAuthTokens(res.headers)\n\n   this.setState({\n      isSignedIn: true\n    });\n  };\n\n\n  signIn = async (email, password) => {\n    const payload = {\n      email,\n      password\n    };\n    const res = await axios.post(\"http://localhost:3000/auth/sign_in\", payload);\n    saveAuthTokens(res.headers)\n\n    this.setState({\n      isSignedIn: true\n    });\n  };\n\n  signOut = async (e) => {\n    e.preventDefault()\n\n    clearAuthTokens();\n    this.setState({\n      isSignedIn: false\n    })\n  }\n\n  render() {\n    const navStyles = {\n      display: \"flex\",\n      listStyleType: \"none\",\n      justifyContent: \"space-around\"\n    };\n\n    const loginOrOut = this.state.isSignedIn ? <button onClick={this.signOut}>Log out</button> : \"Log in icon\"\n\n    const Desktop = ({ children }) => {\n      const isDesktop = useMediaQuery({ minWidth: 992 })\n      return isDesktop ? children : null\n    }\n    const Tablet = ({ children }) => {\n      const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 991 })\n      return isTablet ? children : null\n    }\n    const Mobile = ({ children }) => {\n      const isMobile = useMediaQuery({ maxWidth: 767 })\n      return isMobile ? children : null\n    }\n    const Default = ({ children }) => {\n      const isNotMobile = useMediaQuery({ minWidth: 768 })\n      return isNotMobile ? children : null\n    }\n        return (\n      <div>\n            <Desktop>\n        <nav style={navStyles}>\n          <li>\n            <Link to=\"/\">Logo</Link>\n          </li>\n          <li>\n            <Link to=\"/culture\">People and Culture</Link>\n          </li>\n          <li>\n            <Link to=\"/activities\">Things to See and Do</Link>\n          </li>\n          <li>\n            <Link to=\"/auth/login\">{loginOrOut}</Link>\n          </li>\n        </nav>\n        </Desktop>\n\n        <Switch>\n          <Route exact path=\"/\" render={() => <Homepage />} />\n          <Route exact path=\"/culture\" component={Culture} />\n          <Route exact path=\"/activities\" component={Activities} />\n          <Route\n            exact\n            path=\"/auth/login\"\n            render={props => (\n              <SignUpOrLogIn\n                {...props}\n                signIn={this.signIn}\n                signUp={this.signUp}\n                isSignedIn={this.state.isSignedIn}\n              />\n            )}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}